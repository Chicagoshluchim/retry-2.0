<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Debug Test</title>
</head>
<body>
    <h1>Quick Debug Test</h1>
    <div id="debug-output"></div>

    <!-- Load modules in order -->
    <script src="core.js"></script>
    <script src="messaging.js"></script>
    <script src="student.js"></script>
    <script src="admin.js"></script>
    <script src="main.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const debugOutput = document.getElementById('debug-output');
            
            try {
                debugOutput.innerHTML += '<p>✅ DOM Content Loaded</p>';
                
                // Check if classes exist
                debugOutput.innerHTML += `<p>✅ MivtzahCore exists: ${typeof MivtzahCore !== 'undefined'}</p>`;
                debugOutput.innerHTML += `<p>✅ MivtzahPlatform exists: ${typeof MivtzahPlatform !== 'undefined'}</p>`;
                
                // Create a div for auth container simulation
                const authDiv = document.createElement('div');
                authDiv.className = 'auth-container';
                authDiv.style.display = 'none';
                document.body.appendChild(authDiv);
                
                debugOutput.innerHTML += '<p>✅ Auth container created</p>';
                
                // Try to create the platform
                const app = new MivtzahPlatform();
                debugOutput.innerHTML += '<p>✅ MivtzahPlatform created successfully</p>';
                
                // Check if core is properly initialized
                debugOutput.innerHTML += `<p>✅ Core initialized: ${app.core ? 'Yes' : 'No'}</p>`;
                debugOutput.innerHTML += `<p>✅ Core methods available: ${typeof app.core.showLoginPage === 'function'}</p>`;
                
            } catch (error) {
                debugOutput.innerHTML += `<p style="color: red;">❌ Error: ${error.message}</p>`;
                debugOutput.innerHTML += `<p style="color: red;">Stack: ${error.stack}</p>`;
            }
        });
    </script>
</body>
</html>
